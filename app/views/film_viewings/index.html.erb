<div class="wrapper d-flex align-items-stretch">
  <%= render "shared/sidebar" %>
  <div id="content">
    <div class="topbar">
      <div class="custom-menu">
        <button type="button" id="sidebarCollapse" class="btn btn-primary">
          <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="none" viewBox="0 0 24 24"> <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 8h12M6 12h12M6 16h12"/> </svg>
        </button>
      </div>
      <div class="topbar-center">
        <div class="text-uppercase fs-1">Film Viewings</div>
      </div>
      <div class="topbar-right mr-5">
      </div>
    </div>
    <main class="main-content">
      <div class="viewings-header-wrapper">
        <div class="viewings-header py-3 px-2">
          <div class="text-muted">Total viewing time</div>
          <div class="text-dark-gray"><time><%= total_viewing_time(@film_viewings) %></time></div>
        </div>
      </div>
      <div class="viewings-container-wrapper">
        <% @film_viewings.each do |film_viewing| %>
          <div class="viewings-container">
            <%= link_to film_viewing do %>
              <%= group_avatar(film_viewing.groups.take, film_viewing) %>
            <% end %>
            <div class="viewing-detail text-muted">
              <p class="mb-4"><%= film_viewing.name %></p>
              <p class="viewing-detail-date"><time><%= friendly_date(film_viewing.created_at) %></time></p>
            </div>
            <div class="d-flex flex-column mr-1">
              <div class="d-flex flex-row align-items-center mb-3">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22">
                  <path d="m135.78 50.46c0-2.01-1.52-3.259-4.564-3.748l-40.897-5.947-18.331-37.07c-1.031-2.227-2.363-3.34-3.992-3.34-1.629 0-2.96 1.113-3.992 3.34l-18.332 37.07-40.899 5.947c-3.041.489-4.562 1.738-4.562 3.748 0 1.141.679 2.445 2.037 3.911l29.656 28.841-7.01 40.736c-.109.761-.163 1.305-.163 1.63 0 1.141.285 2.104.855 2.893.57.788 1.425 1.181 2.566 1.181.978 0 2.064-.324 3.259-.977l36.58-19.229 36.583 19.229c1.142.652 2.228.977 3.258.977 1.089 0 1.916-.392 2.486-1.181.569-.788.854-1.752.854-2.893 0-.706-.027-1.249-.082-1.63l-7.01-40.736 29.574-28.841c1.414-1.412 2.119-2.716 2.119-3.911" transform="matrix(.12375 0 0 .12375 2.59 2.958)" fill="#fdbc4b"/>
                </svg>
                <span class="mt-1 ml-1"><%= film_viewing.rating %></span>
              </div>
              <div class="viewing-time text-dark-gray">
                <time><%= running_time_str(film_viewing.running_time) %></time>
              </div>
            </div>
          </div>
        <% end %>
      </div>
      <div class="scan-wrapper text-center">
        <div class="btn scan-btn my-3 py-3">
          <%= link_to 'Add new', new_film_viewing_path, class: 'text-uppercase fs-1' %>
        </div>
      </div>
    </main>
  </div>
</div>
